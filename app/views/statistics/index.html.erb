<% content_for(:title) { "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" } %>

<div class="page-container">
  <header class="page-header">
    <h1>üèÜ –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤</h1>
    <%= link_to "‚Üê –õ–æ–±–±–∏", lobby_path, class: "back-link" %>
  </header>

  <div class="leaderboard">
    <table class="stats-table">
      <thead>
        <tr>
          <th>#</th>
          <th>–ò–≥—Ä–æ–∫</th>
          <th>–ü–æ–±–µ–¥—ã</th>
          <th>–ü–æ—Ä–∞–∂–µ–Ω–∏—è</th>
          <th>–ù–∏—á—å–∏</th>
          <th>–í—Å–µ–≥–æ –∏–≥—Ä</th>
          <th>–í–∏–Ω—Ä–µ–π—Ç</th>
        </tr>
      </thead>
      <tbody>
        <% @players.each_with_index do |player, index| %>
          <tr class="<%= 'current-player' if player == current_player %>">
            <td class="rank">
              <% case index %>
              <% when 0 %>ü•á
              <% when 1 %>ü•à
              <% when 2 %>ü•â
              <% else %><%= index + 1 %>
              <% end %>
            </td>
            <td>
              <%= link_to player.username, player_statistics_path(player) %>
              <% if player == current_player %><span class="you-badge">(–í—ã)</span><% end %>
            </td>
            <td class="wins"><%= player.wins_count %></td>
            <td class="losses"><%= player.losses_count %></td>
            <td class="draws"><%= player.draws_count %></td>
            <td><%= player.total_games %></td>
            <td class="winrate"><%= player.win_rate %>%</td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
